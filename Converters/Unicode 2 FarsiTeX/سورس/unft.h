/*
IN THE NAME OF ALLAH

PROGRAM TO CONVERT UTF-8 ENCODING TO FARSITEX INPUT ENCODING.
AUTHOR: HTTP://FARSITEX.BLOGFA.COM.
PUBLISHED UNDER GPL.

THE SOURCE FILE.
*/

#define ERROR_MESSAGE	"! Unable to continue."\
			"\nUsage: TCC -run unft-0.1.c <InFile> <OutFile>"

#define CHAR_LIST_SIZE  414
#define	SYMB_LIST_SIZE	64

#define	RTL	1
#define	LTR	2

#define	JOINER		1
#define	NON_JOINER	2
#define	REDIRECTOR_CHAR	'~'

#define	NEXT_CHAR_IS_NON_JOINER	((chr3 >= 0 && chr3 <= '~') \
                                || (chr3 >= 'Û' && (chr4 >= '°' && chr4 <= '¹')) \
				|| (chr3 == 'â' && chr4 == '€') \
                                || (chr3 == 'Ø' && chr4 == 'Œ') \
                                || (chr3 == 'Ø' && chr4 == 'Ÿ'))

char symbol_list [SYMB_LIST_SIZE] = {
 ' ', 218,
 '!', 221,
 '"', '"',
 '#', 181,
 '$', 182,
 '&', 184,
 '\'', '\'',
 '(', 190,
 ')', 189,
 '*', 200,
 '+', 205,
 ',', ',',
 '-', 197,
 '.', 198,
 '/', 199,
 ':', 202,
 ';', ';',
 '<', 207,
 '=', 206,
 '>', 204,
 '?', '?',
 '@', 208,
 '[', 211,
 '\\',210,
 ']', 209,
 '^', 212,
 '_', '_',
 '`', '`',
 '{', 222,
 '|', 216,
 '}', 215,
 '~', 201
};

/* ORDER: 	1st ascii char, 2nd ascii char, 
		ftx initil char, ftx medial char,
		ftx final char, ftx isolated char*/
char char_list [CHAR_LIST_SIZE] = {

 194, 187, 192,	192, 192, 192,
 194, 171, 195,	195, 195, 195,

 216, 140, 138, 138, 138, 138,
 216, 155, 203,	203, 203, 203,
 216, 159, 140,	140, 140, 140,
 216, 161, 143,	143, 143, 143,
 216, 162, 141,	141, 141, 141,
 216, 163, 144, 145, 145, 144,
 216, 164, 248,	248, 248, 248,
 216, 165, 144, 145, 145, 144,
 216, 166, 142,	142, 143, 143,
 216, 167, 144, 145, 145, 144,
 216, 168, 147, 147, 146, 146,
 216, 169, 191,	191, 191, 191,
 216, 170, 151, 151, 150, 150,
 216, 171, 153, 153, 152, 152,
 216, 172, 155, 155, 154, 154,
 216, 173, 159, 159, 158, 158,
 216, 174, 161, 161, 160, 160,
 216, 175, 162, 162, 162, 162,
 216, 176, 163, 163, 163, 163,
 216, 177, 164, 164, 164, 164,
 216, 178, 165, 165, 165, 165,
 216, 179, 168, 168, 167, 167,
 216, 180, 170, 170, 169, 169,
 216, 181, 172, 172, 171, 171,
 216, 182, 174, 174, 173, 173,
 216, 183, 175, 175, 193, 193,
 216, 184, 224, 224, 194, 194, 
 216, 185, 228, 227, 226, 225, 
 216, 186, 232,	231, 230, 229,

 217, 190, 149, 149, 148, 148,
 217, 128, 139, 139, 139, 139,
 217, 129, 234, 234, 233, 233,
 217, 130, 236, 236, 235, 235,
 217, 131, 238, 238, 237, 237,
 217, 132, 243, 243, 241, 241,
 217, 133, 245, 245, 244, 244, 
 217, 134, 247, 247, 246, 246,
 217, 135, 251, 250, 249, 249,
 217, 136, 248, 248, 248, 248,
 217, 138, 254, 254, 252, 253,
 217, 139, 179, 179, 179, 179,
 217, 142, 176,	176, 176, 176,
 217, 143, 178,	178, 178, 178,
 217, 144, 177,	177, 177, 177,
 217, 145, 180,	180, 180, 180,
 217, 146, 196,	196, 196, 196,
 217, 147, 201,	201, 201, 201,
 217, 148, 187,	187, 187, 187,
 217, 170, 183,	183, 183, 183,
 217, 171, 188,	188, 188, 188,
 217, 172, 138,	138, 138, 138,
 217, 176, 186,	186, 186, 186,

 218, 134, 157, 157, 156, 156, 
 218, 152, 166, 166, 166, 166,
 218, 169, 238, 238, 237, 237,
 218, 175, 240, 240, 239, 239,

 219, 140, 254,	254, 252, 253,
 219, 176, 128,	128, 128, 128,
 219, 177, 129,	129, 129, 129,
 219, 178, 130,	130, 130, 130,
 219, 179, 131,	131, 131, 131,
 219, 180, 132,	132, 132, 132,
 219, 181, 133,	133, 133, 133,
 219, 182, 134,	134, 134, 134,
 219, 183, 135,	135, 135, 135,
 219, 184, 136,	136, 136, 136,
 219, 185, 137,	137, 137, 137
};

short line_dir = RTL;
short prev_char = 0;
