\documentstyle[farsi]{article}
\setlength{\textwidth}{16cm}
\setlength{\textheight}{22cm}
\setlength{\oddsidemargin}{1mm}
%\setlength{\topmargin}{-5mm}
\title{   ¢  \InE{}UNIX\EnE{}}
\author{މ }
%\date{}
\begin{document}
\maketitle 

\section{։}
؉  މ ։ Ή   Ɖ
䉑܉    ԉ ¢\footnote{\InE{}Process\EnE{}}  , 
  ¢\footnote{\InE{}Interprocess Communication\EnE{}}  \InE{}IPC\EnE{} .
މ  Ɖ 䉑 ܉,  ܉ԉ 
 щ  .
        
   ¢ ܉  Ɖ 䉑 \InE{}UNIX\EnE{} 
ȉ . Ɖ ډ    ܉
\InE{}IPC\EnE{}  \InE{}UNIX\EnE{}.
       
މꉁ  щ ȉ   ω  ¤  ¢.

\section{\label{Methods}    ¢  \InE{}UNIX\EnE{} }
 ܉ԉ    ¢  \InE{}UNIX\EnE{} 
.   䉱 :
\begin{enumerate}
\item ¨ ډ:
 \InE{}UNIX\EnE{},  ¢   ¢ ډ 
  މ  , ډ ԉ¨. 󉱉  
щ  މ )\InE{}PID\EnE{}(  ¢   .
    \InE{}kill\EnE{}  ¢. 󉱉 ԉ  
  ¨ ω䉑  ¢   Ɖ
     ω   ㉂   ¢
  ¨ 牑   ¢  ¢ ԉ
.

\item \InE{}Pipe\EnE{}:
       ¢    
 ω䉑  ԉ¨  ¢ ډ ω䉑    ډ
 ꉴ .
󉱉 \InE{}Pipe\EnE{}     ¢   
  ¢ , ㉀    ¥ ,
   ȉ  ,   .

\item \InE{}FIFO\EnE{}:
 \InE{}Pipe\EnE{}    쉑  ݢ\footnote{\InE{}Named Pipe\EnE{}}
  .  ԉ   \InE{}Pipe\EnE{}    
\InE{}FIFO\EnE{}        ¢ 
܉     ¢     .

\item \InE{}Message Queue\EnE{}:
 \InE{}FIFO\EnE{} ,   ԉ    \InE{}FIFO\EnE{},
¢  ω䉑  ¨  ¢  ω䉑 
ꉴ ,     ω މ  Ɖ ̉ 
;    \InE{}Message Queue\EnE{}, މ؉    ¢  
  \InE{}Message Queue\EnE{} ډ     ,      ¢
ډ      .

\item މꉁ:
    8691  \InE{}Dijkstra\EnE{}  މ٨ ¢ ȉ
.       \ref{Sem} ȉ   ¢.

\item щ ȉ:
ԉ  щ ȉ ؉     
։    ¢ .
       \ref{Shm}   ¢.

\item ԉ  \InE{}Socket\EnE{}   \InE{}TLI\EnE{}:
 ԉ     ¢     
܉   ؉        
.
\end{enumerate}

   ꉁ,  މ 4, 5,  6   \InE{}IPC\EnE{}
 \InE{}System V\EnE{} .  1  2     
¢  ܉    Ɖ     ։ 
     ¢  ܉    Ɖ
   .    , ԉ  މꉁ 
މ ¢  ¢  \InE{}Busy Waiting\EnE{}  ԉ  щ ȉ
 ։ ։   Ɖ މ Ɖ. މ ω
 7   ω Ð ؉ Ɖ ԉ .

\section{\label{}  ȉ }
 \InE{}IPC\EnE{}  \InE{}Message Queue) System V\EnE{}, މꉁ,  щ ȉ(
    ω䉑  Ɖ\footnote{\InE{}Kernel\EnE{}} Ɖ 䉑
   ډ    Ɖ    
 .
   ¡   ȉ   
 ¤  ¢.

Ɖ \InE{}UNIX\EnE{} މω     ꉑ ω䉑  ډ
,     \InE{}IPC\EnE{} )  \InE{}Message Queue\EnE{}, މꉁ,
  щ ȉ (
 ω䉑   ډ .
\english
\begin{verbatim}
struct ipc_perm {
        ushort uid;     /* owner's user id */
        ushort gid;     /* owner's group id */
        ushort cuid;    /* creator's user id */
        ushort cgid;    /* creator's group id */
        ushort mode;    /* access modes */
        ushort seq;     /* slot usage sequence number */
        key_t  key;     /* key */
};
\end{verbatim}
\farsi

   \InE{}\verb|<sys/ipc.h>|\EnE{}   .
 ԉ   \InE{}\verb|msgctl|\EnE{} )  \InE{}Message Queue\EnE{}(,
\InE{}\verb|semctl|\EnE{} )  މꉁ(,  \InE{}\verb|shmctl|\EnE{} )  щ ȉ(
    ¨  ¢    
牃 .

  ꉃ܉  , ꉃ܉   \InE{}\verb|key|\EnE{}
 . މ  ꉃ܉   \InE{}IPC\EnE{}, 
މ   ꉑ ;\
މω   ꉑ܉     ,
  \InE{}IPC\EnE{}    ܉ )\InE{}\verb|key|\EnE{}(
 . ܉    23     ¢
   ω   \InE{}IPC\EnE{} ȉ  
,   쉱   ܉  ¢   
     ܉ ȉ   .
󉱉  ȉ؉       ¢ ډ
    \InE{}IPC\EnE{}  މ ܉ ډ¢,
  ¢      ¢.


 ¢   ډ ꉵ  \InE{}IPC\EnE{},
։ ܉    \InE{}\verb|IPC_PRIVATE|\EnE{} ȉ .
     ʉ  ¢   ¢
  . 󉱉      
   ¢ ԉ ,  ȉʉ
 ꉵ    ԉ   ډ
 ¢ ω  ω .
ԉ  ؉ ȉ ¢ ܉   \InE{}\verb|IPC_PRIVATE|\EnE{},
 ʉ   ¢    ¢ 
     , ¢ 
   \InE{}\verb|fork|\EnE{} ¢,   ¢   .
     쉱   މ \InE{}\verb|fork|\EnE{}, 
ω  ܉ \InE{}\verb|IPC_PRIVATE|\EnE{} ꉵ     \InE{}\verb|fork|\EnE{} ¢,
 ¢   ԉ .


\section{\label{Sem} މꉁ}
 މꉁ   牃  ։   
 މ܉      :
\begin{itemize}
\item ։ މꉁ   Ð ȉʉ Ð .
\item    ։ މꉁ   ԉ .
\item    ։ މꉁ  Ð ȉʉ ȉ  Ɖ  
  ։   ։ މꉁ  .
\end{itemize}
؉ މ      މ܉    
   މ܉  Ɖ 䉑   ։Ɖ  )\InE{}Atomic\EnE{}( 
     މ٨  ¢  
.    މ  ¢   މꉁ  
\InE{}Busy Waiting\EnE{} Ɖ    Ɖ   މ;\
㉀ Ɖ  ډ  ¢   މꉁ  ¢ ,
 ¢ ډ     쉵   ¢ މ.
   ԉ މꉁ,    ܉
Ɖ 䉑 ㉂ .

 ؉,   މ䉂  މꉁ   䉀  
\InE{}IPC\EnE{} )  ܉( ډ    މ  މ܉   .
  މꉁ  ؉,   , މ䉂  މꉁ.

\subsection{\label{SemGet} ꉵ މꉁ}
ꉵ  މ䉂 މꉁ  ԉ   \InE{}\verb|semget|\EnE{}  .
؉      :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/sem.h>

int semget(key_t key, int nsems, int flag);
\end{verbatim}
\farsi

   ؉  ꉵ މꉁ   ,
\InE{}\verb|semget|\EnE{} ։ \InE{}$-1$\EnE{}     ؉   ,
      䉀  މꉁ\footnote{\InE{}Semaphore Identifier\EnE{}}
¢.

      Ɖ:
\begin{itemize}
\item \InE{}\verb|key|\EnE{} ܉   މꉁ  ȉ .   ܉
  2     ¢.

\item \InE{}\verb|nsems|\EnE{}  މꉁ މ䉂  ȉ .

\item \InE{}\verb|flag|\EnE{}    މꉁ  ȉ   މ
ω    މꉁ  󉃉     
   މꉁ  쉱   , ¨
 . 9   \InE{}\verb|flag|\EnE{},    ȉ
 ) މ        ꉑ܉
.( ։ \InE{}\verb|flag|\EnE{}      
   ,  ¢:
\english
$$\begin{tabular}{|l|l|l|}
\hline
Numeric & Symbolic & Description \\ \hline \hline
0400 & \verb|SEM_R|    & Read by owner  \\
0200 & \verb|SEM_A|    & Alter by owner  \\
0040 & \verb|SEM_R>>3| & Read by group  \\
0020 & \verb|SEM_A>>3| & Alter by group  \\
0004 & \verb|SEM_R>>6| & Read by world  \\
0002 & \verb|SEM_A>>6| & Alter by world  \\  \hline
\end{tabular}$$
\farsi

\InE{}\verb|IPC_CREAT|\EnE{}  ㉀        މꉁ 
,  .    䉅  \InE{}\verb|IPC_CREAT|\EnE{}, \InE{}\verb|IPC_EXCL|\EnE{}  
 ¢ , ㉀       މꉁ
   ,      ,
\InE{}\verb|semget|\EnE{}  ꉵ Ή  .
  ։ \InE{}\verb|flag|\EnE{},  ։  щ    
 ¢       \InE{}OR\EnE{} .
   \InE{}\verb|flag|\EnE{}   
\InE{}\verb^SEM_R|SEM_A|(SEM_R>>6)|IPC_CREAT^\EnE{}
 щ ډ,  ㉀    މꉁ ډ
        牃   ։
    . މ    މꉁ
 ,   .
\end{itemize}
\subsection{މ܉  މꉁ}
މ܉  މꉁ  ԉ   \InE{}\verb|semop|\EnE{} 
. ؉      :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/sem.h>

int semop(int semid, struct sembuf *opsptr, unsigned int nops);
\end{verbatim}
\farsi

    ։ ԉ     ։
\InE{}$-1$\EnE{} ¢.       Ɖ:
\begin{itemize}
\item \InE{}\verb|semid|\EnE{}  މꉁ    މ܉   
.
\item \InE{}\verb|opsptr|\EnE{}      牃   \InE{}\verb|sembuf|\EnE{}
.
 䉀      )\InE{}\verb|nops|\EnE{}(
ȉ .
\end{itemize}
 牃   \InE{}\verb|sembuf|\EnE{},  މ   މꉁ  ȉ
      .

\english
\begin{verbatim}
struct sembuf {
        ushort  sem_num;        /* semaphore number */
        short   sem_op;         /* semaphore operation */
        short   sem_flg;        /* operation flag */
};
\end{verbatim}
\farsi

\begin{itemize}
\item \InE{}\verb|sem_num|\EnE{} މ  މꉁ  މ䉂  ȉ 
  މ    . )   
    ԉ   މꉁ     ȉ
,    މ䉂  މꉁ.(

\item \InE{}\verb|sem_op|\EnE{}  މ  ȉ .      ։
  , ㉀ މ  щ ꉂ ¢ 
։  ։ މꉁ ȉ  .  ։ \InE{}\verb|sem_op|\EnE{}
ԉ , މ  щ  ¢  ԉ  ։
މꉁ  щ    ։  ԉ , ㉀
  ։   ։ މꉁ  .
)    ։ މꉁ   Ή܉  ։
މ   .(

\item \InE{}\verb|sem_flg|\EnE{}   䉑 ԉ .  ։    
\InE{}\verb|IPC_NOWAIT|\EnE{}  ,   ㉀     
މ  ؉    ¢   )  
މꉁ  ։  ԉ , ؉  (
 ¢ Ή  \InE{}\verb|semop|\EnE{}  . މ ω  ȉ
¢ \InE{}\verb|SEM_UNDO|\EnE{}  \InE{}\verb|sem_flg|\EnE{},   ؉ \InE{}Undo\EnE{}   ȉ 
     ¢ ԉ .
\end{itemize}
\subsection{牃 ։   މꉁ}
 ԉ   \InE{}\verb|semctl|\EnE{},   ܉ԉ   
މꉁ  .    ؉  :

\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/sem.h>

int semctl(int semid, int semnum, int cmd, union semun arg);

union semun {
     int             val;       /* used for SETVAL only */
     struct semid_ds *buff;     /* used for IPC_STAT and IPC_SET */
     ushort          *array;    /* used for GETALL & SETALL */
} arg;
\end{verbatim}
\farsi

   ։  \InE{}\verb|cmd|\EnE{},   \InE{}\verb|IPC_RMID|\EnE{} ,
 ㉀    މꉁ    Ɖ  .
    ։   \InE{}\verb|GETVAL|\EnE{}  \InE{}\verb|SETVAL|\EnE{} ,
㉀  ։ މꉁ       牃
.
   \InE{}\verb|semid|\EnE{}  މꉁ      
    \InE{}\verb|semnum|\EnE{} މ މꉁ  މ䉂  ȉ 
 ։      牃 .
  ։  , ։  
  ¢       ։
 牃   ։  щ   \InE{}\verb|arg.val|\EnE{}
 .

 ԉ     ډ   
       މ.

\subsection{؉ \InE{}UNDO\EnE{}}
މω  , މꉁ ȉ  މ ¢ ¢
 ¨     ԉ .
  މ      ,   މꉁ
 ԉ ¢  ꉑ ԉ ¢.
    󉃉܉ ) ȉ¢ ܉ \InE{}Ctrl-C\EnE{}
  \InE{}\verb|kill|\EnE{}   ¢ ډ(
 ¢   ԉ  މꉁ    ԉ
¢   , ։ ¢  щ  Ɖ
  ¢ ԉ   , މډ  މȉ щ
 !

   ȉ؉, ؉   ؉ \InE{}Undo\EnE{}  މꉁ
   .       \InE{}\verb|semop|\EnE{},
¡  މ   ؉ \InE{}\verb|SEM_UNDO|\EnE{}  .
   ¢   މ܉   
 , Ɖ މ  މ܉  \InE{}Undo\EnE{} ;
㉀    މ, ꉂ ¢  ։  މꉁ ,
 ։  މꉁ       މ,  ¢  ։
,  ։ ꉂ .

؉ \InE{}Undo\EnE{} 䉅     ,  ȉ   ¢
 ¢ .
  ­       ԉ Ɖ,  ω
       ωꉃ  , ω ډ   .
  щ    ωꉃ   \InE{}\verb|fork|\EnE{} ¢,  ¢
     ,  ¢    
ω ։     .
   ¢,      ωꉃ  މꉁ
     ։    ؉ \InE{}Undo\EnE{} ؉ ꉂ
          .
¢     ω ։  ȉ ,  
    މꉁ    ։  ԉ .
  ډ   ꉴ  ω ։   .

\subsection{}
­   ¢    ꉑ ԉ
    󉽉щ  ȉ  ؉    
¨  .      ¢ 
  މ .   щ,   މꉁ
ԉ .    Ή ȉ ,  
      .

     ¢, ԉ    .
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/sem.h>

#define SEMKEY 1234567L         /* key value for semaphore */
#define PERMS  SEM_R|SEM_A|(SEM_R>>3)|(SEM_A>>3)|(SEM_R>>6)|(SEM_A>>6)  /* = 0666 */

static struct sembuf op_lock[2] = {
        0, 0, 0,        /* wait for sem #0 to become 0 */
        0, 1, SEM_UNDO  /* then increment it by 1 */
};

static struct sembuf op_unlock[1] = {
        0, -1, (IPC_NOWAIT | SEM_UNDO)
};

int semid = -1;         /* semaphore id */
\end{verbatim}
\farsi

    Ɖމ    ꉑ ԉ , 
  \InE{}\verb|my_lock|\EnE{}          .
\english
\begin{verbatim}
my_lock()
{
     if (semid < 0)
          semid = semget(SEMKEY, 1, IPC_CREAT | PERMS);
     semop(semid, &op_lock[0], 2);
}
\end{verbatim}
\farsi

    ԉ  ꉑ,  \InE{}\verb|my_unlock|\EnE{}   
    ,   .

\english
\begin{verbatim}
my_unlock()
{
     semop(semid, &op_unlock[0], 1);
}
\end{verbatim}
\farsi


\section{\label{Shm} щ ȉ}
쉵   ։      ¢
։ , ؉    ԉ  щ
ȉ . ԉ  щ ȉ 䉶  ꉵ 
  ¢ ,  ډ  ։ 
    Ɖ\footnote{\InE{}System Call\EnE{}} .

މ          ¢
, ԉ  щ ȉ    
;   މ  ډ,    ¢
 ؉ 󉃉    ډ ʉ  , ։
.

މ  щ    щ ȉ ؉ 
 ,   ։ ,   
   牃 䉑,  щ Ɖ;
󉱉   ȉʉ  щ  쉱  䉀 щ ȉ
ꉵ  .

\subsection{ꉵ щ ȉ}
 ꉵ щ ȉ,     \InE{}\verb|shmget|\EnE{}
ԉ ¢. ؉      :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>

int shmget(key_t key, int size, int shmflag);
\end{verbatim}
\farsi

 ,   ։,  щ ȉ ꉵ 
    ։,  \InE{}$-1$\EnE{} ¢.
 \InE{}\verb|key|\EnE{}  \InE{}\verb|shmflag|\EnE{}   \InE{}\verb|semget|\EnE{}
) \ref{SemGet}( Ɖ   \InE{}\verb|size|\EnE{},  
Ή㉂ щ ȉ    ȉ .
쉴   ։ \InE{}\verb|size|\EnE{} މ   ȉʉ ȉ
      Ɖ ։   ȉʉ .

     ԉ  \InE{}\verb|shmget|\EnE{},  Ή㉂ щ ȉ ꉵ,
      Ɖ       
 ȉ      Ɖ.   щ  
\InE{}\verb|shmat|\EnE{} ԉ . ؉      :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>

int shmat(int shmid, char *shmaddr, int shmflag);
\end{verbatim}
\farsi

։ ȉ   ,  Ή㉂ щ ȉ 
    \InE{}\verb|shmid|\EnE{}   ȉ .
 \InE{}\verb|shmaddr|\EnE{}  \InE{}\verb|shmflag|\EnE{}  쉵     
щ ȉ     ȉ Ɖ. 󉱉  
 މ Ɖ ؉ މ؉ Ɖ     
   ؉  މ.   䉑,  
։  \InE{}\verb|shmaddr|\EnE{}  \InE{}\verb|shmflag|\EnE{}  Ɖ  ԉ  .

  ꉵ  щ ȉ,   
ډ     \InE{}\verb|malloc|\EnE{} ¢    ԉ
,  щ ȉ ԉ ¢.

\subsection{ щ ȉ}
   Ή㉂ щ ȉ,    Ɖ  
    ԉ   \InE{}\verb|shmdt|\EnE{}   . ؉  
   :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>

int shmdt(char *shmaddr);
\end{verbatim}
\farsi

  ,   ԉ   \InE{}\verb|shmctl|\EnE{}, Ή㉂ щ
ȉ   . ؉ ܉      :
\english
\begin{verbatim}
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>

int shmctl(int shmid, int cmd, struct shmid_ds *buf);
\end{verbatim}
\farsi

  щ ȉ,  ։  \InE{}\verb|cmd|\EnE{}    \InE{}\verb|IPC_RMID|\EnE{}
㉃ .  \InE{}\verb|buf|\EnE{}    щ ȉ  
މ.   ։     ԉ
 .

󉱉  \InE{}\verb|shmctl|\EnE{}  ډ  
  މ      
     щ .

\subsection{}
­    ¢   ؉   ω䉑 
 ډ 󉃉   ډ   ω䉑 ԉ
. ¢   \InE{}Server\EnE{}    \InE{}Client\EnE{} .
   ¢,   щ
ȉ  މꉁ ԉ .
    Ή㉂ щ ȉ  ։ ω䉑
 ¢     މꉁ   މ ¢
 ԉ .
  щ ­     ։ މꉁ  ㉀
  ω䉑    \InE{}Client\EnE{}  ԉ    
㉀   \InE{}Client\EnE{} щ ω䉑   ω \InE{}Server\EnE{} .

 \InE{}Server\EnE{}       .
\english
\addtolength{\baselineskip}{-1mm}
\begin{verbatim}
/*
 *      Server
 */
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>
#include <sys/sem.h>

#define SEMKEY 1234567L         /* key value for semaphore */
#define SHMKEY 1234567L         /* key value for shared memory */
#define PERMS  0666

static struct sembuf inc2[1] = {0, 2, 0};
static struct sembuf wait0[1] = {0, 0, 0};

int shmid, semid;
char *a;

main()
{
  if (semid = semget(SEMKEY, 1, IPC_CREAT | PERMS)) < 0) {
    printf(" Error in semget.\n");
    exit(-1);
  }

  if (shmid = shmget(SHMKEY, 100, IPC_CREAT | PERMS) < 0) {
    printf(" Error in shmget.\n");
    exit(-1);
  }
  a = shmat(shmid, 0, 0);

  while (1) {
    gen_data(a);
    semop(semid, inc2, 1);      /* increment the semaphore value by 2 */
    semop(semid, wait0, 1);     /* wait for the semaphore to become 0 */
  }

  if (shmdt(a) < 0) {
    printf(" Error in shmdt.\n");
    exit(-1);
  }
  if (shmctl(shmid, IPC_RMID, 0) < 0) {
    printf(" Error in shmctl.\n");
    exit(-1);
  }
  if (semctl(semid, IPC_RMID, 0) < 0) {
    printf(" Error in semctl.\n");
    exit(-1);
  }
}
\end{verbatim}
\addtolength{\baselineskip}{1mm}
\farsi

 \InE{}Client\EnE{}       .
\english
\addtolength{\baselineskip}{-1mm}
\begin{verbatim}
/*
 *      Client
 */
#include <sys/types.h>
#include <sys/ipc.h>
#include <sys/shm.h>
#include <sys/sem.h>

#define SEMKEY 1234567L         /* key value for semaphore */
#define SHMKEY 1234567L         /* key value for shared memory */
#define PERMS  0666

static struct sembuf dec1[1] = {0, 1, 0};

int shmid, semid;
char *a;

main()
{
  if (semid = semget(SEMKEY, 1, IPC_CREAT | PERMS)) < 0) {
    printf(" Error in semget.\n");
    exit(-1);
  }

  if (shmid = shmget(SHMKEY, 100, IPC_CREAT | PERMS) < 0) {
    printf(" Error in shmget.\n");
    exit(-1);
  }
  a = shmat(shmid, 0, 0);

  while (1) {
    semop(semid, dec1, 1);      /* wait until the semaphore value become
                                   positive, then decrement it by 1 */
    consume_data(a);
    semop(semid, dec1, 1);      /* decrement the semaphore value by 1 */
  }

  if (shmdt(a) < 0) {
    printf(" Error in shmdt.\n");
    exit(-1);
  }
  if (shmctl(shmid, IPC_RMID, 0) < 0) {
    printf(" Error in shmctl.\n");
    exit(-1);
  }
  if (semctl(semid, IPC_RMID, 0) < 0) {
    printf(" Error in semctl.\n");
    exit(-1);
  }
}
\end{verbatim}
\addtolength{\baselineskip}{1mm}
\farsi

  \InE{}Server\EnE{}, \InE{}\verb|gen_data(a)|\EnE{}    ω䉑  
 󉃉 
     \InE{}\verb|a|\EnE{} Ɖ.
މ   \InE{}Client\EnE{}, \InE{}\verb|consume_data(a)|\EnE{}   
ω䉑    \InE{}\verb|a|\EnE{}   ԉ  .

쉱   ¢ \InE{}\verb|consume_data(a)|\EnE{}, ؉  ։ މꉁ  .
  މ     ډ  ω䉑  
 \InE{}Server\EnE{}  ȉ   ։ މꉁ ԉ ,  
¢       ω䉑  \InE{}Server\EnE{}   
\InE{}Server\EnE{}   \InE{}\verb|gen_data(a)|\EnE{}  , ։ މꉁ   2
Ð     \InE{}Client\EnE{}   \InE{}\verb|consume_data(a)|\EnE{}
.     \InE{}Client\EnE{}     ,
  \InE{}Server\EnE{} ω   ω䉑 󉃉 , ʉ
     ω䉑  .    
؉  ¢ ։ މꉁ    ։   
ԉ ,  .    \InE{}Server\EnE{}  
 ω䉑    .   
 \InE{}\verb|gen_data(a)|\EnE{}    ω䉑  󉃉 .

      \InE{}Client\EnE{},  \InE{}Client\EnE{}    
  ȉ   ꉁ ԉ .   
    \InE{}Client\EnE{} ,  މꉁ  ʉ .

\section{}
  ։    ؉ ډ   ԉ  މꉁ 
щ ȉ,   ¢   ¢. ㉀
    މ ¢  ω䉑    ։ .
ԉ   ,      
¢  ؉ .
 ԉ  މꉁ,   \InE{}\verb|semget|\EnE{},
\InE{}\verb|semop|\EnE{},  \InE{}\verb|shmctl|\EnE{},
  ԉ  щ ȉ   \InE{}\verb|shmget|\EnE{},
\InE{}\verb|shmat|\EnE{}, \InE{}\verb|shmdt|\EnE{},  \InE{}\verb|shmctl|\EnE{}   ¢.
  މ  󉃉    
 ԉ     Ɖ   Ɖ
䉑 ؉ .

\begin{thebibliography}{99}
\vspace{-1cm}
\english 
\bibitem{unix} W.~Richard~Stevens, {\em UNIX Network Programming},
Prentice Hall, 1990.
\end{thebibliography}
\end{document}
